# 如何阅读一个后端项目

该文是一个后端项目的阅读指导，仅适用于对一个完整的 Web 后端项目。

## 前提

Web 应用的本质就是：

- 浏览器发送一个 HTTP 请求到服务器
- 服务器收到请求，通过请求的一些细节不同（请求方法，URL，参数）发生相应的业务逻辑，生成HTML、JSON 等数据
- 服务器将HTML、JSON 等数据放置于 HTTP 响应的 body 中，返回给浏览器
- 浏览器收到 HTTP 响应，解析数据做相关页面渲染

那么一个后端项目的功能就是获取 HTTP 请求，解析 HTTP 请求，处理 HTTP 请求，返回 HTTP 响应。

拓展问题：**浏览器输入 URL 回车到页面有所显示，整个过程中发生了什么？（越详细越好）**



#### 需要明白的几个点

这几个问题纯属为一点都不知道知道朋友扫盲用。

#### 框架的初始（Framework）

如果项目是基于框架上搭建的，那么当程序运行的时候，肯定会有框架的启动，因为所有的业务逻辑，对 HTTP 的解析也好，还是实现等都由框架所处理了一遍。这往往就是入口文件所需要做的事情。

##### 路由（Router）

往往是通过请求的不同 URL 映射到不同的逻辑处理代码上实现业务的。早期的 PHP 是采用的一个目录代表一个 URI，而现在一般的开发方式是基于一个框架之上做快速开发，因此框架集成了很多方法，能帮助我们实现上述提到的逻辑。现代框架中通过解析 HTTP 请求中的 URL ，对不同的 URL 做不同的业务逻辑映射，这个称之为 **路由**。

##### 控制器（Controller）

或叫做*业务逻辑代码*，就是对一个 HTTP 请求的处理，并返回一个 HTTP 响应。往往就是一个 *路由* 地址所映射的代码块。

##### ORM（Object Relational Mapping 对象关系映射）

是一种程序设计技术，用于实现面向对象编程语言不同类型系统的数据之间的转换。通俗的说，就是将数据库中数据表封装成一个对象（Class），通过对这个对象的操作来映射到对对数据库的操作。而当代的框架中



## 厘清项目目录结构

做一个项目就是做一项巨大的工程，我们本可以将所有的代码写在一个文件中的，但是却发明了 *命名空间* ，*模块* 等概念，用不同的文件夹放置不同的代码，通过抽离从而把一个冗杂的代码清理成方便阅读，整理，修改的多个模块组成的项目。如 Laravel 框架，他在项目初始的时候就已经完成了项目目录结构的构建，我们能知道新建一个控制器、视图、模型将放在哪里，但是比如 Go 语言中 Gin 就没有明确的目录结构，如何构建合理的目录来存放不同的模块呢？当然，你可以自己摸索，但是这里我们讨论的是阅读别人的项目源码，那么对该项目，他的目录结构是如何划分的，这一点可以试着厘清并分析，好处与坏处。

一般来说，项目结构按文件夹分类

```bash
/ThisProjetc
|———Common(或叫pkg)			用来放置自定义的一些工具函数
|———Controllers				  用来放置控制器们
|———Middlewares					用来放置中间件们
|———Models							用来放置模型们
|———Routers						  用来放置路由们
|———app.php.go.java			程序入口文件
```



## 从入口文件看起

从框架的初始到把数据库连接初始，路由初始，中间件初始，几本就能看透整个项目的一个架构形式了，通过调用溯源，翻看调用函数源码，从整体到一个一个模块细节，这样就能很系统的看待整个项目了。当然，其中很肯定会有很多框架 API 的调用，调用函数若溯源到框架的源码了，可暂时挺住，只要知道调用的这个框架 API 是什么作用，去官方文档上查阅一下，继续回看项目中的代码即可。关于框架源码的阅读，咋们以后再说。





- 厘清项目结构
- 从入口文件看起
- 如何初始框架
- 如何连接的数据库
- 数据表模式设计（Database Table Schema）